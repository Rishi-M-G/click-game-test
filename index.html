<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TMQ8J8SSE0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TMQ8J8SSE0');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Hunt Runner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        canvas {
            background: lightblue;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <h1>Job Hunt Runner</h1>
    <p>Press Space to Jump! Avoid the hurdles and reach the job offer!</p>
    <canvas id="gameCanvas" width="800" height="300"></canvas>

    <script>
    // Game Variables
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    let gameOver = false;
    let score = 0;
    let jumpHeight = 0;
    let jumping = false;

    // Character setup (64x64 dimensions)
    const character = {
        x: 50,
        y: 250,
        width: 64,  // Adjusted to match your sprite's dimensions
        height: 64,
        sprite: new Image(),
        jump: false
    };

    // Load character sprite
    character.sprite.src = 'me.png';
    let spriteLoaded = false;

    character.sprite.onload = function() {
        spriteLoaded = true;
    };

    // Load images for obstacles
    const obstacleImages = {
        ats: new Image(),
        interview: new Image(),
        hr: new Image()
    };

    obstacleImages.ats.src = 'ats.png';
    obstacleImages.interview.src = 'interview.png';
    obstacleImages.hr.src = 'hr.png';

    let imagesLoaded = 0;
    for (let key in obstacleImages) {
        obstacleImages[key].onload = function () {
            imagesLoaded++;
        };
    }

    // Different types of obstacles
    const hurdleTypes = [
        { label: 'ATS', image: obstacleImages.ats, width: 40, height: 60 },       // ATS Hurdle
        { label: 'Interview', image: obstacleImages.interview, width: 40, height: 60 }, // Interview Hurdle
        { label: 'HR', image: obstacleImages.hr, width: 40, height: 60 },       // HR Round Hurdle
    ];

    // Hurdles setup
    const hurdles = [];
    const hurdleGap = 200;
    let hurdleSpeed = 5;

    // Jumping function
    function handleJump() {
        if (!jumping) {
            jumping = true;
            jumpHeight = 150; // Adjusted jump height for 64x64 character
        }
    }

    // Key controls for jumping
    document.addEventListener('keydown', function(event) {
        if (event.code === 'Space') {
            handleJump();
        }
    });

    // Hurdle creation logic
    function createHurdle() {
        const randomType = hurdleTypes[Math.floor(Math.random() * hurdleTypes.length)];
        hurdles.push({
            x: canvas.width,
            y: canvas.height - randomType.height,
            width: randomType.width,
            height: randomType.height,
            type: randomType
        });
    }

    // Draw character sprite
    function drawCharacter() {
        if (spriteLoaded) {
            // Draw character sprite image
            ctx.drawImage(character.sprite, character.x, character.y - jumpHeight, character.width, character.height);
        } else {
            // Draw a blue box if sprite isn't loaded yet
            ctx.fillStyle = 'blue';
            ctx.fillRect(character.x, character.y - jumpHeight, character.width, character.height);
        }

        // Handle jump mechanics
        if (jumpHeight > 0) {
            jumpHeight -= 5; // Control jump descent speed
        } else {
            jumping = false; // Back to ground
        }
    }

    // Draw and update hurdles
    function drawHurdles() {
        for (let i = 0; i < hurdles.length; i++) {
            let hurdle = hurdles[i];
            hurdle.x -= hurdleSpeed;

            // Draw the hurdle with image
            if (imagesLoaded === Object.keys(obstacleImages).length) {
                ctx.drawImage(hurdle.type.image, hurdle.x, hurdle.y, hurdle.width, hurdle.height);
            } else {
                // Fallback: draw a rectangle if images aren't loaded yet
                ctx.fillStyle = 'red';
                ctx.fillRect(hurdle.x, hurdle.y, hurdle.width, hurdle.height);
            }

            // Check for collision
            if (
                character.x < hurdle.x + hurdle.width &&
                character.x + character.width > hurdle.x &&
                character.y - jumpHeight + character.height > hurdle.y
            ) {
                gameOver = true;
                alert('Game Over! You hit a hurdle. Try again!');
                document.location.reload();
            }

            // Remove hurdles that have gone off screen
            if (hurdle.x + hurdle.width < 0) {
                hurdles.splice(i, 1);
                score++;
            }
        }
    }

    // Main draw function
    function draw() {
        if (gameOver) return;

        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw character
        drawCharacter();

        // Draw hurdles
        drawHurdles();

        // Score tracking
        ctx.fillStyle = 'black';
        ctx.font = '20px Arial';
        ctx.fillText('Score: ' + score, 20, 30);

        requestAnimationFrame(draw);
    }

    // Game loop
    setInterval(createHurdle, 2000); // Generate hurdles every 2 seconds
    draw();
</script>


</body>
</html>
